{% extends 'base.html' %}

{% block content %}
    <link href="/static/styles_contact.css" rel="stylesheet" />
    <div class = "container">
        <h1>Contact With Us</h1>
        <p>We would love to respond to your queries and help you succeed.<br> Feel free to get in touch with us.</p>
        <div class = "contact-box">
            <div class = "contact-left">
                <h3>Sent your request</h3>
                <form action="submit.php" method="post">

                    <div class="input-row">
                        <div class="input-group">
                            <label>Name</label>
                            <input type="text" name="name" placeholder="John Lee">
                        </div>
                        <div class="input-group">
                            <label>Phone</label>
                            <input type="text" name="phone" placeholder="+1 343 520 3231">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Email</label>
                            <input type="email" name="email"
                            placeholder="Johnlee@gmail.com">
                        </div>
                        <div class="input-group">
                            <label>Subject</label>
                            <input type="text" name="subject" placeholder="Title">
                        </div>
                    </div>

                    <label>Message</label>
                    <textarea rows="5" name="message" placeholder="Your Message"></textarea>
                    
                    <div class="container">
                        <div class="d-flex justify-content-end">
                            <button type="button" id="submit-button" class="btn btn-success px-5 rounded-pill" style="background-color: #30ba8e;">Done</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class = "contact-right">
                <h3>Reach Us</h3>

                <table>
                    <tr>
                        <td>Email</td>
                        <td>contactus@example.com</td>
                    </tr>
                    <tr>
                        <td>Phone</td>
                        <td>+1 012 345 6789</td>
                    </tr>
                    <tr>
                        <td>Address</td>
                        <td>#212, Chapel Street, 7th cross<br>
                        Some layout, Some Road, Ottawa<br>
                        Ontario 560001
                        </td>
                    </tr>
                </table>

            </div>
        </div>
    </div>

    <script>
        document.getElementById('submit-button').addEventListener('click', function() {
            const form = document.querySelector('form');
            const formData = new FormData(form);

            fetch('/submit_contact_request', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (response.ok) {
                    alert('Request submitted successfully!');
                    form.reset();
                } else {
                    alert('An error occurred while submitting the request.');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('An error occurred while submitting the request.');
            });
        });
    </script>
{% endblock %}